/* FullCalendar Mantine Theme Integration */

/* Base light theme styles */
.fc {
  --fc-border-color: var(--mantine-color-gray-3);
  --fc-page-bg-color: var(--mantine-color-body);
  --fc-neutral-bg-color: var(--mantine-color-gray-0);
  --fc-neutral-text-color: var(--mantine-color-text);
  --fc-button-text-color: var(--mantine-color-white);
  --fc-button-bg-color: var(--mantine-color-blue-6);
  --fc-button-border-color: var(--mantine-color-blue-6);
  --fc-button-hover-bg-color: var(--mantine-color-blue-7);
  --fc-button-hover-border-color: var(--mantine-color-blue-7);
  --fc-button-active-bg-color: var(--mantine-color-blue-8);
  --fc-button-active-border-color: var(--mantine-color-blue-8);
  
  /* Month/week view */
  --fc-today-bg-color: var(--mantine-color-blue-0);
  --fc-highlight-color: var(--mantine-color-blue-1);
  --fc-event-text-color: var(--mantine-color-white);
  --fc-event-border-color: var(--mantine-color-blue-6);
  --fc-event-bg-color: var(--mantine-color-blue-6);
  
  /* List view */
  --fc-list-event-hover-bg-color: var(--mantine-color-gray-0);
  --fc-theme-standard-list-day-cushion-background: var(--mantine-color-gray-0);
}

/* Dark theme overrides */
:root[data-mantine-color-scheme='dark'] .fc {
  --fc-border-color: var(--mantine-color-dark-4);
  --fc-page-bg-color: var(--mantine-color-body);
  --fc-neutral-bg-color: var(--mantine-color-dark-6);
  --fc-neutral-text-color: var(--mantine-color-text);
  --fc-button-text-color: var(--mantine-color-white);
  --fc-button-bg-color: var(--mantine-color-blue-6);
  --fc-button-border-color: var(--mantine-color-blue-6);
  --fc-button-hover-bg-color: var(--mantine-color-blue-7);
  --fc-button-hover-border-color: var(--mantine-color-blue-7);
  --fc-button-active-bg-color: var(--mantine-color-blue-8);
  --fc-button-active-border-color: var(--mantine-color-blue-8);
  
  /* Month/week view */
  --fc-today-bg-color: rgba(59, 130, 246, 0.1);
  --fc-highlight-color: rgba(59, 130, 246, 0.2);
  --fc-event-text-color: var(--mantine-color-white);
  --fc-event-border-color: var(--mantine-color-blue-6);
  --fc-event-bg-color: var(--mantine-color-blue-6);
  
  /* List view */
  --fc-list-event-hover-bg-color: var(--mantine-color-dark-6);
  --fc-theme-standard-list-day-cushion-background: var(--mantine-color-dark-6);
}

/* Text color styles for better Mantine integration */
.fc-col-header-cell-cushion,
.fc-daygrid-day-number,
.fc-list-day-text,
.fc-list-event-title,
.fc-list-day-side-text {
  color: var(--mantine-color-text) !important;
}

/* Table and grid elements */
.fc th,
.fc td,
.fc .fc-timegrid-slot,
.fc .fc-timegrid-slot-label,
.fc .fc-timegrid-axis-cushion,
.fc .fc-timegrid-axis,
.fc .fc-col-header-cell {
  color: var(--mantine-color-text) !important;
  border-color: var(--fc-border-color) !important;
}

/* Calendar toolbar styling */
.fc .fc-toolbar {
  margin-bottom: var(--mantine-spacing-md);
}

.fc .fc-toolbar-title {
  color: var(--mantine-color-text);
  font-weight: 600;
  font-size: 1.5rem;
}

.fc .fc-button-group > .fc-button {
  border-radius: var(--mantine-radius-md);
  font-weight: 500;
  margin: 0 2px;
  transition: all 0.2s ease;
  box-shadow: var(--mantine-shadow-xs);
}

.fc .fc-button-group > .fc-button:hover {
  transform: translateY(-1px);
  box-shadow: var(--mantine-shadow-sm);
}

.fc .fc-button:not(:disabled):active,
.fc .fc-button:not(:disabled).fc-button-active {
  box-shadow: var(--mantine-shadow-xs);
  transform: none;
}

/* Submission card and interaction styles */
.submission-card-container {
  transition: 
    transform 0.2s ease,
    box-shadow 0.2s ease;
  border-radius: var(--mantine-radius-md);
}

.submission-card-container:hover {
  box-shadow: var(--mantine-shadow-md);
  transform: translateY(-2px);
}

/* Draggable element styles */
.calendar-draggable {
  cursor: grab;
  width: 100%;
  border-radius: var(--mantine-radius-md);
  user-select: none;
  transition: background-color 0.2s ease;
  padding: var(--mantine-spacing-xs);
}

.calendar-draggable:hover {
  background-color: var(--mantine-color-blue-0);
}

:root[data-mantine-color-scheme='dark'] .calendar-draggable:hover {
  background-color: rgba(59, 130, 246, 0.1);
}

.calendar-draggable:active {
  cursor: grabbing;
}

/* Dragging state styles */
.calendar-draggable.fc-event-dragging {
  opacity: 0.8;
  background-color: var(--mantine-color-blue-1);
  box-shadow: var(--mantine-shadow-lg);
}

:root[data-mantine-color-scheme='dark'] .calendar-draggable.fc-event-dragging {
  background-color: rgba(59, 130, 246, 0.2);
}

/* FullCalendar event styling */
.fc-h-event {
  border-radius: var(--mantine-radius-sm);
  box-shadow: var(--mantine-shadow-xs);
  padding: 2px 4px;
  border: 1px solid var(--fc-event-border-color);
}

.fc-daygrid-event {
  border-radius: var(--mantine-radius-sm);
  padding: 2px 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  box-shadow: var(--mantine-shadow-xs);
}

/* Event hover and interaction effects */
.fc-event {
  cursor: pointer;
  transition: 
    transform 0.15s ease,
    box-shadow 0.15s ease,
    opacity 0.15s ease;
}

.fc-event:hover {
  transform: scale(1.02);
  box-shadow: var(--mantine-shadow-md);
  z-index: 5 !important;
  opacity: 0.95;
}

/* Today cell highlighting */
.fc .fc-daygrid-day.fc-day-today {
  background-color: var(--fc-today-bg-color);
  border-color: var(--mantine-color-blue-3);
}

:root[data-mantine-color-scheme='dark'] .fc .fc-daygrid-day.fc-day-today {
  border-color: var(--mantine-color-blue-7);
}

/* Popover container - maintains pointer events management */
.calendar-popover-container {
  pointer-events: none; /* Allow clicks to pass through to the container */
}

/* Allow interactions with the actual popover */
.calendar-popover-container .mantine-Popover-dropdown {
  pointer-events: auto;
}

/* Additional calendar theming improvements */

/* Weekend styling */
.fc .fc-daygrid-day.fc-day-sat,
.fc .fc-daygrid-day.fc-day-sun {
  background-color: var(--mantine-color-gray-0);
}

:root[data-mantine-color-scheme='dark'] .fc .fc-daygrid-day.fc-day-sat,
:root[data-mantine-color-scheme='dark'] .fc .fc-daygrid-day.fc-day-sun {
  background-color: var(--mantine-color-dark-7);
}

/* Month view day number styling */
.fc .fc-daygrid-day-number {
  padding: var(--mantine-spacing-xs);
  font-weight: 500;
}

/* Time grid styling for week/day views */
.fc .fc-timegrid-slot {
  height: 3em;
}

.fc .fc-timegrid-slot-label {
  font-weight: 500;
  color: var(--mantine-color-dimmed);
}

/* Event resize handle styling */
.fc .fc-event-resizer {
  background-color: var(--mantine-color-blue-6);
  border-radius: var(--mantine-radius-xs);
}

/* Loading state */
.fc .fc-loading {
  background-color: var(--mantine-color-gray-1);
  border-radius: var(--mantine-radius-md);
}

:root[data-mantine-color-scheme='dark'] .fc .fc-loading {
  background-color: var(--mantine-color-dark-6);
}
